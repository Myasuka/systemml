<project name="Logging" default="build">

	<!-- common properties -->
	<!-- Root of the workspace -->
	<property name="workspace.root" location="../.." />
	<!-- Root of the project -->
	<property name="project.root" location=".." />
	<!-- build dir of the project -->
	<property name="build.dir" location="${project.root}/bin" />
	<!-- parameter configuration default file -->
	<property name="config.dir" location="${project.root}/config" />

	<property file="logging.properties" />
	
	<path id="HADOOP.local.classpath">
				<pathelement location="${hadoop.local.path}/hadoop-core-1.1.1.jar" />
		        <pathelement location="${hadoop.local.path}/lib/commons-io-2.1.jar" />

	</path>
	
	<path id="LOGGING.local.classpath">
				<pathelement location="${build.sharedlib}/commons-lang-2.5.jar" />
		        <pathelement location="${hadoop.local.path}/lib/log4j-1.2.15.jar" />

	</path>
	
	<path id="BUILD.classpath">
				<path refid="HADOOP.local.classpath" />
				<path refid="LOGGING.local.classpath" />
	</path>
	
	
	<!-- Java version requirement -->
	
	<property name="target" value="1.6" />
	<property name="source" value="1.6" />

	
	<target name="build" depends="clean">
		<tstamp/>
		<javac destdir="${build.dir}" 
			   source="${source}" 
			   target="${target}" 
			   includeantruntime="false"
			   srcdir="${project.root}/src" 
			   classpathref="BUILD.local.classpath" />

		<jar destfile="${build.dir}/Logging.jar" basedir="${build.dir}"/>


	</target>

	<target name="clean">
		<delete file="${build.dir}/Logging.jar" failonerror="false"/>
	</target>	
	
</project>