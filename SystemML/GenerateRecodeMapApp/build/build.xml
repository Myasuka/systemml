<project name="GenerateRecodeMapApp" default="buildAppZipFile">

	<!-- Root of the workspace -->
	<property name="workspace.root" location="../.." />
	<!-- Root of the project -->
	<property name="project.root" location=".." />
	<!-- build dir of the project -->
	<property name="build.dir" location="${project.root}/build" />
	<!-- parameter configuration default file -->
	<property name="config.dir" location="${project.root}/config" />
	
	<!-- final zip file -->
	<property name="zip.file" location="${build.dir}/GenerateRecodeMapApp.zip" />

	<!-- custom modules folder, jaql folder, staging folder -->
	<property name="custom_modules.dir" location="${project.root}/custom_modules" />
	<property name="jaql.dir" location="${project.root}/jaql" />
	<property name="staging.dir" location="${build.dir}/staging" />

	<target name="buildAppZipFile">
		<delete dir="${staging.dir}/" />
		<delete dir="${zip.file}" />
		<copy todir="${staging.dir}/BIApp/">
			<fileset dir="${project.root}/BIApp/" />
		</copy>
		<copy todir="${staging.dir}/BIApp/workflow/custom_modules">
			<fileset dir="${custom_modules.dir}" />
		</copy>
		<copy todir="${staging.dir}/BIApp/workflow/jaql">
			<fileset dir="${jaql.dir}" />
		</copy>
		<zip destfile="${zip.file}" basedir="${staging.dir}/BIApp" includes="**" />
	</target>	
</project>