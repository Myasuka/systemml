#-------------------------------------------------------------
# IBM Confidential
# OCO Source Materials
# (C) Copyright IBM Corp. 2010, 2013
# The source code for this program is not published or
# otherwise divested of its trade secrets, irrespective of
# what has been deposited with the U.S. Copyright Office.
#-------------------------------------------------------------

$$readhelper$$

V = read("$$indir$$vector", rows=$$rows1$$, cols=1, format="text")
W = read("$$indir$$weight", rows=$$rows1$$, cols=1, format="text")
P = read("$$indir$$prob", rows=$$rows2$$, cols=1, format="text")

# quantile
Q = quantile(V, P)
write(Q, "$$outdir$$quantile", format="text");

# weighted quantile
WQ = quantile(V, W, P)
write(WQ, "$$outdir$$weighted_quantile", format="text");