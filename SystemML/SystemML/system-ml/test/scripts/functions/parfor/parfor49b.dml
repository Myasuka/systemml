#-------------------------------------------------------------
# IBM Confidential
# OCO Source Materials
# (C) Copyright IBM Corp. 2010, 2015
# The source code for this program is not published or
# otherwise divested of its trade secrets, irrespective of
# what has been deposited with the U.S. Copyright Office.
#-------------------------------------------------------------

foo = function (Integer inval) return (Matrix[Double] out)
{   
   if( 1==1 ) {} #prevent inlining
   
   A = matrix( 1, rows=10, cols=10 );
   out = A
}

X = foo(7);
parfor( i in 1:10 )
{
    if( i==1 )
    {
       X = foo(i);
    }
    else
    {
       Y = foo(i);
    }
}

print(sum(X)); 
