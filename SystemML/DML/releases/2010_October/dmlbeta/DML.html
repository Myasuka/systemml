<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:v="urn:schemas-microsoft-com:vml"
 xmlns:o="urn:schemas-microsoft-com:office:office"
 xmlns:w="urn:schemas-microsoft-com:office:word"
 xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
 xmlns="http://www.w3.org/TR/REC-html40">
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=ISO-8859-1">
  <meta name="ProgId" content="Word.Document">
  <meta name="Generator" content="Microsoft Word 10">
  <meta name="Originator" content="Microsoft Word 10">
  <link rel="File-List" href="DML_files/filelist.xml">
  <title>DML</title>
  <o:smarttagtype
 namespaceuri="urn:schemas-microsoft-com:office:smarttags" name="place"></o:smarttagtype><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>IBM_USER</o:Author>
  <o:LastAuthor>IBM_USER</o:LastAuthor>
  <o:Revision>63</o:Revision>
  <o:TotalTime>147</o:TotalTime>
  <o:Created>2010-09-28T21:37:00Z</o:Created>
  <o:LastSaved>2010-09-29T00:04:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>1822</o:Words>
  <o:Characters>10387</o:Characters>
  <o:Company>IBM</o:Company>
  <o:Lines>86</o:Lines>
  <o:Paragraphs>24</o:Paragraphs>
  <o:CharactersWithSpaces>12185</o:CharactersWithSpaces>
  <o:Version>10.6858</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:GrammarState>Clean</w:GrammarState>
  <w:Compatibility>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
  <style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-alt:"\FF2D\FF33 \660E\671D";
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-1610612033 1757936891 16 0 131231 0;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-1610612033 1757936891 16 0 131231 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"MS Mincho";}
p.MsoList, li.MsoList, div.MsoList
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.25in;
	margin-bottom:.0001pt;
	text-indent:-.25in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"MS Mincho";}
pre
	{font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"MS Mincho";}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:802499536;
	mso-list-template-ids:649264922;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1
	{mso-list-id:1126855481;
	mso-list-template-ids:1167077716;}
@list l2
	{mso-list-id:1585409456;
	mso-list-type:hybrid;
	mso-list-template-ids:-1863026034 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l3
	{mso-list-id:1964385547;
	mso-list-template-ids:2074251484;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
  </style><!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>
<body style="" vlink="blue" lang="EN-US" link="blue">
<div class="Section1">
<pre style="text-align: center;"><b><span style="font-size: 24pt;">An Introduction <span
 class="GramE">To</span> DML</span></b></pre>
<p class="MsoNormal"><a name="mozTocId182601"></a>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; September 29, 2010<br>
</p>
<ol id="mozToc">
<!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6-->
  <li><a href="#mozTocId452942">General</a></li>
  <li><a href="#mozTocId452943">Data Types and Variables</a></li>
  <li><a href="#mozTocId600673">Statements </a>
    <ol>
      <li><a href="#mozTocId63369">InputOutput Statement</a></li>
      <li><a href="#mozTocId2532">Assignment Statement </a></li>
      <li><a href="#mozTocId626926">While Statement</a></li>
      <li><a href="#mozTocId187579">Rand Statement</a></li>
    </ol>
  </li>
  <li><a href="#mozTocId399290">Expressions</a>
    <ol>
      <li><a href="#mozTocId526747">Operators</a></li>
      <li><a href="#mozTocId926860">Builtin Functions</a></li>
    </ol>
  </li>
  <li><a href="#mozTocId490093">Future Language Constructs</a></li>
  <li><a href="#mozTocId490094">Example Scripts</a>
    <ol>
      <li><a href="#mozTocId959105">Gaussian Non-Negative Matrix
Factorization
(GNMF)</a></li>
      <li><a href="#mozTocId419387">PageRank</a></li>
      <li><a href="#mozTocId258037">LinearRegression</a></li>
      <li><a href="#mozTocId569387">Descriptive Statistics</a></li>
    </ol>
  </li>
</ol>
<ol start="1" type="1">
<!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6--><span
 style="font-family: &quot;Times New Roman&quot;;"><span
 style="text-decoration: underline;"></span></span>
  <h1><a name="mozTocId452942"></a>General</h1>
  <p class="MsoNormal">DML is case sensitive. <br>
We
use uppercase variables (e.g., X, Y) to denote matrices and lowercase
variables
(e.g., m, n) to denote scalars.</p>
  <h1><a name="mozTocId452943"></a>Data Types and Variables</h1>
  <p class="MsoNormal">DML supports two data <span class="GramE">types
:</span>
matrices and scalars. Scalar data types supported are integer, double,
string
and logical. The cells in a matrix are of type double. <br>
  </p>
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  <p class="MsoNormal"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

  </span># Variable i
is of type integer</p>
  <p class="MsoNormal" style="text-indent: 0.5in;"><i>i = 0;</i> </p>
  <p class="MsoNormal" style="text-indent: 0.5in;"><o:p>&nbsp;</o:p></p>
  <p class="MsoNormal" style="text-indent: 0.5in;"># Variable V is of
type Matrix with
cells of type double (default)</p>
  <p class="MsoNormal" style="text-indent: 0.5in;"><i>V = read ("in/v",
rows=10, cols=8, format="text");</i> </p>
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  <h1><a name="mozTocId600673"></a>Statements </h1>
  <p class="MsoNormal">A DML program consists of a sequence of
statements, with the
default computation semantics being sequential evaluation of the
individual
statements. The statements supported currently in DML are InputOutput
statement, Assignment statement, While statement and <st1:place>Rand</st1:place>
statement.&nbsp; </p>
  <h2><a name="mozTocId63369"></a>InputOutput Statement</h2>
  <p class="MsoNormal" style="margin-bottom: 12pt;">Read and Write
statements are
provided for respectively reading and writing matrices, from and to
files. The
files are not managed in memory but kept in HDFS and processed by
Hadoop.</p>
  <p class="MsoNormal" style="margin-bottom: 12pt;">The first parameter
in the Read
statement is the path to the file containing the matrix. Additional
properties
of the matrix, such as dimensionality and sparsity (number of non-zero
entries
or nnzs) can be provided as illustrated by the following example. </p>
  <div style="margin-left: 30pt;">
  <p class="MsoNormal"><i>V = read ("in/v", rows=10, cols=8,
nnzs = 20, format="text");</i> </p>
  </div>
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  <p class="MsoNormal">SystemML supports a sparse text format on disk.
The cell values
are stored in <i>(row column value)</i>-format with the row and column
indices
being 1-based. The following example shows the &#8220;in/v&#8221; file for the
above read statement. The <i>binary</i> format can only be read and
written by SystemML. DML scripts with read and write statements can be
executed to perform format conversions.</p>
  <p class="MsoNormal" style="margin: 0in 0in 12pt 0.5in;"><br>
  <i>1 1 4<br>
3 4 10<br>
5 6 7<br>
9 8 20<o:p></o:p></i></p>
  <p class="MsoNormal">The first two parameters in the Write statement
describe the
matrix variable to be written along with the path to the file
containing the
matrix. Additional parameters can be provided as shown below. </p>
  <div style="margin-left: 30pt;">
  <p class="MsoNormal" style="margin-bottom: 12pt;"><b><br>
  </b><span class="GramE"><i>write(</i></span><i>W, "out/w",
format="text");</i></p>
  </div>
  <p class="MsoNormal">The table below lists the various optional
parameters
supported in InputOutput Statements. In a Read statement, the
dimensionality of
each input matrix must be specified; if the rows and cols parameters
are
missing, they default to a value of 1. The input files may be in text
or binary
format and the value type of the elements is double. Additional value
types for matrices (int, string and logical) will be supported in the
next release.<br>
  </p>
  <div style="margin-left: 30pt;">
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  </div>
  <table class="MsoNormalTable"
 style="width: 85%; text-align: left; margin-left: auto; margin-right: auto;"
 border="1" cellpadding="0">
    <tbody>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Name of parameter<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Description<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Value type<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Permissible Values</b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Default<o:p></o:p></b></p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">rows</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Number of rows in matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Integer</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">1 (for read statement)</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">cols</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Number of columns in matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Integer</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">1 (for read statement)</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">format</p>
        </td>
        <td style="padding: 1.5pt; vertical-align: top;">
        <p class="MsoNormal">File in text or binary format</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">String</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">text, binary</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">text</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">value_type</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Type of scalar values in matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">String</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">double, int, string</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">double</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">nnzs</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Number of non-zeroes</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Integer</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">rows * cols (for read Statement)</p>
        </td>
      </tr>
      <tr style="">
        <td colspan="5" style="border: medium none ; padding: 1.5pt;">
        <p class="MsoNormal"
 style="text-align: center; vertical-align: baseline;" align="center"><b><br>
Optional parameters in InputOutput Statements</b></p>
        </td>
      </tr>
    </tbody>
  </table>
  <p class="MsoNormal">&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; </p>
  <h2><a name="mozTocId2532"></a>Assignment Statement </h2>
  <div style="margin-left: 30pt;">
  <p class="MsoNormal">An assignment statement consists of an
expression, the
result of which is assigned to a variable. The variable gets the
appropriate
type (matrix or scalar) depending on the type of the variable output by
the
expression. <br>
  <br>
  <i>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
max_iteration = 3;</i></p>
  </div>
  <p class="MsoNormal">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp; <i>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; V =
W %*% H</i>;<br>
&nbsp;</p>
  <p class="MsoNormal"><span class="GramE"><i>max_iteration</i></span><i>
  </i>is of
type integer; <i>V</i> is of type matrix with the value type of the V
cells
being derived from W and H.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </p>
  <p class="MsoNormal">The operators allowed in expressions in an
assignment
statement are described below under <a href="#Expressions">Expressions</a>
. </p>
  <h2><a name="mozTocId626926"></a>While Statement</h2>
  <p class="MsoNormal">&nbsp; The primary control structure supported
in DML is the
While statement. The predicates in a While statement consist of
operations on
scalar variables and literals as shown below. <br>
  <br>
  <i>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; </i><i><span style="" lang="PL">while( (i
&lt; 20) &amp; (!converge) ) {</span></i><span style="" lang="PL"><o:p></o:p></span></p>
  <div style="margin-left: 30pt;">
  <p class="MsoNormal"><i><span style="" lang="PL">&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; H = H * (t(W)
%*% V) /
( t(W) %*% W %*% H);<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; W =
W * (V %*% t(H) / (W %*% H %*% t(H));<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; i =
i + 1;</span></i><span style="" lang="PL"><o:p></o:p></span></p>
  </div>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i>}</i></p>
  </div>
  <p class="MsoNormal" style="margin-bottom: 12pt;"><br>
The body of a while statement may contain any sequence of Assignment,
InputOutput and <st1:place>Rand</st1:place> statements. </p>
  <h2><a name="mozTocId187579"></a><st1:place>Rand</st1:place> Statement</h2>
  <p class="MsoNormal"><o:p>&nbsp;</o:p>The Rand statement is used to
generate a random mxn matrix. </p>
</ol>
<p class="MsoNormal"><br>
</p>
<div style="margin-left: 80px;"><i>X&nbsp; = rand(rows = 10, cols = 20,
min = 0, max = 1, pdf = "uniform");<br>
</i></div>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; generates a 10 x 20 matrix, where
each cell value is chosen
uniformly at random between 0 and 1. Currently, the only pdf supported
is uniform; &nbsp;&nbsp;&nbsp; additional distributions would be added
in future DML
releases.
<ol start="1" type="1">
  <h1><a name="mozTocId399290"></a><a name="Expressions"></a>Expressions</h1>
  <div style="margin-left: 30pt;">
  <p class="MsoNormal">Expressions in DML apply an operation, such as
matrix
multiplication, over one or more input operands. The operations in DML
are
divided into operators such as <i>matrix multiplication</i> and
builtin
functions such as <i>diag</i> and <i>transpose</i>.</p>
  </div>
  <h2><a name="mozTocId526747"></a>Operators</h2>
  <div style="margin-left: 30pt;">
  <p class="MsoNormal">In addition to linear algebra operations such as
matrix
multiplication, matrices can also be used in arithmetic, relational and
  <span class="GramE">boolean</span> expressions. In these cases, the
operations are
performed element by element. For instance, </p>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i>A = B * C;</i></p>
  </div>
  <p class="MsoNormal">is evaluated by multiplying each cell in B with
the corresponding
cell in C. Note that the dimensions of the input matrices need to match
based
on the operator semantics; otherwise an exception will be raised at
compile
time. When one of the operands is a matrix and the other operand is a
scalar,
the operation is performed elementwise on the matrix using the scalar
operand.
For example </p>
  <div style="margin-left: 30pt;">
  <div style="margin-left: 30pt;">
  <p class="MsoNormal">&nbsp;<i>A = B * 20;</i></p>
  </div>
  </div>
  <p class="MsoNormal" style="margin-bottom: 12pt;">&nbsp;<span
 class="GramE">is</span>
evaluated by multiplying every cell in B by the scalar value 20.<br>
  <br>
The basic operators supported in a DML expression are shown below. </p>
  </div>
  <table class="MsoNormalTable" style="width: 100%;" border="1"
 cellpadding="0">
    <tbody>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Operator<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Example<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Input Type<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt; vertical-align: top;">
        <p class="MsoNormal"><b>Output Type</b></p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Arithmetic ( + , - , *, / )</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">X + Y</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix or Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">If one of the operands is a matrix, output
is matrix; otherwise it is scalar</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix Multiplication</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">X %*% Y</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Power</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">X ^ y</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">X can be matrix or scalar<br>
y is a scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Same as X</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Relational (&lt;<span class="GramE">&nbsp;
&gt;</span>&nbsp; == != &lt;=&nbsp; &gt;= )</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">X&nbsp; &lt;= Y</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Boolean <span class="GramE">( &amp;</span>&nbsp;
|&nbsp;
!)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">X &amp; Y<br>
!X</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar<br>
        </p>
        </td>
      </tr>
      <tr style="">
        <td colspan="4" style="border: medium none ; padding: 1.5pt;">
        <p class="MsoNormal"
 style="text-align: center; vertical-align: baseline;" align="center"><b><br>
DML Operators</b></p>
        </td>
      </tr>
    </tbody>
  </table>
  <p class="MsoNormal">&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </p>
  <h2><a name="mozTocId926860"></a>Builtin Functions</h2>
  <p class="MsoNormal">&nbsp; The builtin functions supported in DML
can be broadly
classified as follows.</p>
  <ul type="disc">
    <li class="MsoNormal" style=""><b>Linear <span class="GramE">algebra<span
 style="font-weight: normal;"> :</span></span></b> Functions applying
linear algebra operations on matrices such as <i>transpose</i>, <i>diag</i>
and<i> trace</i>.</li>
    <li class="MsoNormal" style=""><b>Matrix <span class="GramE">Aggregation<span
 style="font-weight: normal;"> :</span></span></b> Functions performing
aggregation operations on matrices, such as <i>sum</i>, <i>prod</i>, <i>avg</i>,


      <i>min</i> and <i>max</i>. </li>
    <li class="MsoNormal" style=""><b>Matrix Partial <span
 class="GramE">Aggregation<span style="font-weight: normal;"> :</span></span></b>
Functions aggregating matrices along a single dimension such as <i>rowSums</i>
and<i> colSums</i>.</li>
    <li class="MsoNormal" style=""><b>Matrix <span class="GramE">Dimensionality<span
 style="font-weight: normal;"> :</span></span></b> Functions to compute
dimensionality of a matrix, such as <i>length</i>,<i> nRow </i>and <i>nCol</i>.</li>
    <li class="MsoNormal" style=""><span class="GramE"><b>Comparison</b>
:</span> Functions comparing two operands; for matrices the functions
supported are<i> pmin</i> and <i>pmax</i> and for scalars the
corresponding functions are <i>min </i>and <i>max</i> respecively.</li>
    <li class="MsoNormal" style=""><span class="GramE"><b>Mathematical</b>
:</span> Mathematical and trigonometric functions, such as <i>sqrt</i>,

      <i>log</i>, <i>abs</i>, <i>sin</i>, <i>cos</i> and <i>tan</i>.
These
functions can be applied on matrices or scalars.&nbsp;</li>
    <li class="MsoNormal" style=""><span class="GramE"><b>Cast</b> :</span>
Functions to cast objects from one type to another. E.g., <i>castAsScalar</i>.</li>
  </ul>
  <p class="MsoNormal" style="margin-bottom: 12pt;">The table below
lists the
functions currently supported in DML along with a description of the
input and
output types for each of them. For example, consider the following
expressions. </p>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i>s = <span class="GramE">sum(</span>A);</i><br>
  <i>B = rowSums(A);</i><br>
  <i>C = colSums(A);<br>
D = rowSums(C); </i><br>
diff = s - castAsScalar(D);</p>
  </div>
  <p class="MsoNormal" style="margin-bottom: 12pt;"><br>
The builtin function <i>sum</i> operates on a matrix (say <i>A</i> of
dimensionality <i>mxn</i>) and returns a scalar value corresponding to
the sum
of all values in the matrix. The builtin functions <i>rowSum</i>s and <i>colSums</i>,
on
the
other hand, aggregate values on a per-row and per-column basis
respectively.
They output matrices of dimensionality <i>mx1</i> and <i>1xn</i>
respectively.
Therefore, <i>B</i> is <span class="GramE">a</span> <i>mx1</i>
matrix and <i>C</i>
is a <i>1xn</i> matrix. Applying <i>rowSums</i> on matrix <i>C</i>,
we obtain
matrix <i>D</i> as a <i>1x1</i> matrix. In DML, a <i>1x1</i> matrix
is
different from a scalar; to treat<i> D</i> as a scalar, an explicit <i>castAsScalar</i>
operation is invoked in the final statement. The difference between <i>s</i>
and <span class="GramE"><i>castAsScalar(</i></span><i>D)</i> should be
0.<o:p></o:p></p>
  <table class="MsoNormalTable" style="width: 100%;" width="100%"
 border="1" cellpadding="0">
    <tbody>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Builtin Function<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Example<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Input Types<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Output Types<o:p></o:p></b></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><b>Comments<o:p></o:p></b></p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Trans (t)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">t(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Return transpose of a matrix</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">diag</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">diag(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix </p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">If input is a vector (i.e., 1xn or nx1
matrix), create a (nxn) matrix where the diagonal is the input matrix.<br>
Otherwise, create a vector from the diagonal of the input matrix.</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">sum</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">sum(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Compute the sum of all the element values
in the matrix</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">rowSums</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">rowSums(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">For each row, compute the sum of all
element values</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">colSums</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">colSums(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">For each column, compute the sum of all
element values</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">min/max for Matrices</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">min(X)<br>
max(Y)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Compute the minimum/maximum element value
in the entire matrix</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">max/max for scalars</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">min(x,y)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Compute the minimum/maximum amongst the
given scalar values</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">pmin / pmax</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">pmin(X,Y)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Compute cell-wise minimum/maximum</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">avg</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">avg(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Compute the average value of all elements
in the matrix</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">prod</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">prod(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Compute the product of all the element
values in the matrix.</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Trace</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">trace(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Compute the sum of elements on the main
diagonal for a given square matrix.</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">range</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">range(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Trigonometric (sin, cos, tan)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">sin(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix or Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Same as input</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Apply the trigonometric function on the
input (element wise if the input is a matrix)</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Dimensionality (nrow, ncol, length)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">nrow(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">nrow, ncol and length compute the number
of rows, number of columns and number of cells in the matrix
respectively.</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Mathematical (log, abs, sqrt)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal"><span style="" lang="FR">sqrt(X)<br>
log(X)<br>
log(X,y)<o:p></o:p></span></p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix or Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Same as input</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Apply the mathematical function on the
input (element wise if the input is a matrix)</p>
        </td>
      </tr>
      <tr style="">
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">castAsScalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">castAsScalar(X)</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Matrix</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">Scalar</p>
        </td>
        <td style="padding: 1.5pt;" valign="top">
        <p class="MsoNormal">A 1x1 matrix is cast as a scalar</p>
        </td>
      </tr>
      <tr style="">
        <td colspan="5" style="border: medium none ; padding: 1.5pt;">
        <p class="MsoNormal"
 style="text-align: center; vertical-align: baseline;" align="center"><b><br>
DML Builtin functions</b></p>
        </td>
      </tr>
    </tbody>
  </table>
  <span style="font-weight: bold;"> </span>
  <h1><a name="mozTocId490093"></a>Future Language Constructs</h1>
  <p class="MsoNormal" style="margin-bottom: 12pt;">SystemML and DML
are under
active development. Adding additional constructs and features is mainly
driven
by requirements. We currently intend to add the following constructs to
DML:</p>
  <ul>
    <li><span dir="LTR">support for nested while statements</span></li>
    <li><span style="font-family: Symbol;"><span style=""><span
 style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"></span></span></span><span
 dir="LTR">additional control structures (for
statement and if-then-else statement)</span></li>
    <li>support for functions<br>
      <span style="font-family: Symbol;"><span style=""><span
 style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"></span></span></span><span
 dir="LTR"></span></li>
    <li><span dir="LTR">cross-validation statement</span></li>
    <li><span dir="LTR"></span><span dir="LTR">constructors for
matrices (e.g., create a mxn matrix with
all cells having the value c)<br>
      </span></li>
    <li><span style="font-family: Symbol;"><span style=""><span
 style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"></span></span></span><span
 dir="LTR"><span class="GramE">integration</span>
with libraries such as LAPACK.</span></li>
    <li><span style="font-family: Symbol;"><span style=""><span
 style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"></span></span></span><span
 dir="LTR">index-based operations (e.g., A[1,5] = B[1,5] * 5 )<br>
      </span></li>
    <li><span style="font-family: Symbol;"><span style=""><span
 style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"></span></span></span><span
 dir="LTR">additional built-in functions,
e.g. colMin(), colMax(), colCount(), rowCount(), colMean()</span></li>
    <li><span style="font-family: Symbol;"><span style=""><span
 style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"></span></span></span><span
 dir="LTR">specialized functions such as Unique() and sparse() for
contingency table computation</span></li>
    <li><span dir="LTR">support for additional value types for matrices
(int, string and logical)</span></li>
  </ul>
  <h1><a name="mozTocId490094"></a>Example Scripts</h1>
  <h2><a name="mozTocId959105"></a><u>Gaussian Non-Negative Matrix
Factorization
(GNMF)</u></h2>
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i>V = <span class="GramE">read(</span>"in/v",
rows=10, cols=8, format="text");</i></p>
  </div>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i>W = <span class="GramE">read(</span>"in/w",
rows=10, cols=5, format="text");</i></p>
  </div>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i>H = <span class="GramE">read(</span>"in/h",
rows=5, cols=8, format="text");<br>
max_iteration = 3;<br>
i = 0;<br>
while(i &lt; max_iteration) {</i></p>
  <div style="margin-left: 30pt;">
  <p class="MsoNormal"><i><span style="" lang="PL">H = H * (t(W)
%*% V) / ( t(W) %*% W %*% H);<br>
W = W * (V %*% t(H) / (W %*% H %*% t(H));<br>
i = i + 1;</span></i><span style="" lang="PL"><o:p></o:p></span></p>
  </div>
  </div>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i>}</i></p>
  </div>
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><span class="GramE"><i>write(</i></span><i>W,
"out/w", format="text");<br>
write(H, "out/h", format="text");</i></p>
  </div>
  <div style="margin-left: 30pt;">
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  </div>
  <h2><a name="mozTocId419387"></a><u>PageRank</u></h2>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i>G = read("in/g", rows=1000, cols=1000,
format="text");<br>
# dense<br>
p = read("in/p", rows=1000, cols=1, format="text");<br>
e = read("in/e", rows=1000, cols=1, format="text");<br>
u = read("in/u", rows=1, cols=1000, format="text");<br>
alpha = 0.85;<br>
max_iteration = 3;<br>
i = 0;<br>
  <br>
while(i &lt; max_iteration) {<br>
&nbsp;&nbsp;&nbsp; p = alpha * (G %*% p) + (1 - alpha) * (e %*% u %*%
p);<br>
&nbsp;&nbsp;&nbsp; i = i + 1;<br>
}<br>
  <br>
write(p, "out/p", format="text");<o:p></o:p></i></p>
  </div>
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  <h2><a name="mozTocId258037"></a><u>LinearRegression</u></h2>
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i>V = read("in/v", rows=10000, cols=500,
format="text");<br>
y = read("in/y", rows=10000, cols=1, format="text");<br>
lambda = 0.000001;<br>
r = -(t(V) %*% y);<br>
p = -r;<br>
norm_r2 = sum(r * r);<br>
w = 0;<br>
  <br>
max_iteration = 3;<br>
i = 0;<br>
while(i &lt; max_iteration) {<br>
&nbsp;&nbsp;&nbsp; q = ((t(V) %*% (V %*% p)) + lambda * p);<br>
&nbsp;&nbsp;&nbsp; alpha = norm_r2 / castAsScalar(t(p) %*% q);<br>
&nbsp;&nbsp;&nbsp; w = w + alpha * p;<br>
&nbsp;&nbsp;&nbsp; old_norm_r2 = norm_r2;<br>
&nbsp;&nbsp;&nbsp; r = r + alpha * q;<br>
&nbsp;&nbsp;&nbsp; norm_r2 = sum(r * r);<br>
&nbsp;&nbsp;&nbsp; beta = norm_r2 / old_norm_r2;<br>
&nbsp;&nbsp;&nbsp; p = -r + beta * p;<br>
&nbsp;&nbsp;&nbsp; i = i + 1;<br>
}<br>
  <br>
write(w, "out/w", format="text");<o:p></o:p></i></p>
  </div>
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  <h2><a name="mozTocId569387"></a><u>Descriptive Statistics</u></h2>
  <p class="MsoNormal"><o:p>&nbsp;</o:p></p>
  <div style="margin-left: 60pt;">
  <p class="MsoNormal"><i><br>
X = read("in/x", rows=1000, cols=500, format="text") <br>
  <br>
n = 1000 <br>
  <br>
######### UNIVARIATE STATISTICS ############# <br>
  <br>
# column means <br>
mu = colSums(X)/n <br>
  <br>
# column standard deviations <br>
std_dev = sqrt((colSums(X^2)/n - mu*mu)*(n/(n-1)))<br>
  <br>
# column standard errors of means<br>
SE = std_dev/sqrt(n)<br>
  <br>
# column variances<br>
var = std_dev^2<br>
  <br>
# column coefficients of variation<br>
cv = std_dev/mu<br>
  <br>
# column harmonic means (note: may generate out of memory for large
sparse matrices becauses of NaNs)<br>
har_mu = n/(colSums(1.0/X))<br>
  <br>
# column geometric means<br>
  <br>
geom_mu = n*exp(colSums(log(X))/n)<br>
  <br>
# column Sums<br>
colsums = colSums(X)<br>
  <br>
# TODO: median, column Min, Max<br>
  <br>
# Kurtosis (using binomial formula)<br>
g2 = (colSums(X^4) - 4*colSums(X^3)*mu + 6*colSums(X^2)*mu^2 -
3*n*mu^4)/(n*std_dev^4) - 3<br>
  <br>
# Skewness<br>
g1 = (colSums(X^3) - 3*mu*colSums(X^2) + 2*n*mu^3)/(n*std_dev^3)<br>
  <br>
write(mu,"outdir/mu",format="text")<br>
write(std_dev,"outdir/std_dev",format="text")<br>
write(SE,"outdir/SE",format="text")<br>
write(var,"outdir/var",format="text")<br>
write(cv,"outdir/cv",format="text")<br>
write(geom_mu,"outdir/geom_mu",format="text")<br>
write(har_mu,"outdir/har_mu",format="text")<br>
write(g2,"outdir/skewness",format="text")<br>
write(g1,"outdir/kurtosis",format="text")<br>
  <br>
  </i> </p>
  </div>
</ol>
</div>
</body>
</html>
