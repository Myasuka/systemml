V = read($1,rows=$2,cols=$3);
n = $3;
nd = $4;

R = Rand(rows=1,cols=nd,min=0,max=0); 
dummy = Rand(rows=1, cols=1, min=1, max=1);

parfor( i in 1:(n/2), opt=RULEBASED )
{
   X = V[ ,i];                 
   Y = V[ ,n-i+1];                 
   sx = execSum(X);
   sy = execSum(Y);
   R[1,i] = dummy*( sx+sy ); 
}   

write(R, $5);       


execSum = function(Matrix[Double] X) return (Double sx) 
{
   if( ncol(X) > 0 )
   {
      sx = sum(X);    
   }
   else
   {
      sx = sum(X);
   }
}