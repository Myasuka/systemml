foo = function (Integer in) return (Matrix[Double] out)
{   
   if( 1==1 ) {} #prevent inlining
   
   A = matrix( 1, rows=10, cols=10 );
   out = A
}

X = foo(7);
parfor( i in 1:10 )
{
    if( i==1 )
    {
       X = foo(i);
    }
    else
    {
       Y = foo(i);
    }
}

print(sum(X)); 
